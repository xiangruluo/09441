<!DOCTYPE html>
<html>
<body>
<%- include header %>
<%- include login %>
    <link rel="stylesheet" href="/components/editor/editor.css" />
    <!--页面body部分-->
    <div class="container">
        <div class="row">
            <div class="span12">
                <div class="well"> <strong>发布话题</strong>
                    <!-- <hr> -->
                    <form class="form-horizontal" id="topic_add" action="/topic/new" method="post" style="margin-top:15px;">
                        <div class="editor-wrapper">
                            <input id="title" class="title" type="text" placeholder="Title" name="title"/>
                            <textarea id="editor" name="content" placeholder="Content here ...."></textarea>
                        </div>
                        <script type="text/javascript" src="/components/editor/marked.js"></script>
                        <script type="text/javascript" src="/components/editor/editor.js"></script>
                        <script type="text/javascript">
                            (function () {
                                var editor = new Editor();
                                editor.render($('#editor')[0]);
                            })();
                        </script>
                        <button style="margin-left:5px;" type="submit" class="btn btn-success">提交</button>
                    </form>
                </div>
            </div>
        </div>
        <%- include footer %>
    </div>
 </div> 
</body>
<script src="/components/happyjs/happy.js"></script>
<script src="/components/happyjs/happy.methods.js"></script>
<script type="text/javascript">
    $(function() {
        $("#topic_add").isHappy({
            fields:{
                '#title': {
                    required: true,
                    message: '标题不能为空'
                }
            }
        })
    })
</script>
</html>
